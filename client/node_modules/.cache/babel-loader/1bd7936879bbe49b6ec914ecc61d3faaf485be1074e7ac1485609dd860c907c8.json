{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getDocuments, deleteDocument } from '../api/documents';\nconst useDocuments = () => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchDocs = async () => {\n    try {\n      setLoading(true);\n      const res = await getDocuments();\n      setDocuments(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Erreur');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await deleteDocument(id);\n      setDocuments(prev => prev.filter(d => d.id !== id));\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Erreur');\n    }\n  };\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n  return {\n    documents,\n    loading,\n    error,\n    handleDelete,\n    refetch: fetchDocs\n  };\n};\n_s(useDocuments, \"vPpX9y5GrjLlQ9TCkQ56wUrwt2s=\");\nexport default useDocuments;","map":{"version":3,"names":["useState","useEffect","getDocuments","deleteDocument","useDocuments","_s","documents","setDocuments","loading","setLoading","error","setError","fetchDocs","res","data","err","_err$response","_err$response$data","response","message","handleDelete","id","prev","filter","d","_err$response2","_err$response2$data","refetch"],"sources":["/Users/yuupeegs/Desktop/APP PROF/prof-senegal/client/src/hooks/useDocuments.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getDocuments, deleteDocument } from '../api/documents';\n\nconst useDocuments = () => {\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchDocs = async () => {\n    try {\n      setLoading(true);\n      const res = await getDocuments();\n      setDocuments(res.data);\n    } catch (err) {\n      setError(err.response?.data?.message || 'Erreur');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await deleteDocument(id);\n      setDocuments((prev) => prev.filter((d) => d.id !== id));\n    } catch (err) {\n      setError(err.response?.data?.message || 'Erreur');\n    }\n  };\n\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n\n  return { documents, loading, error, handleDelete, refetch: fetchDocs };\n};\n\nexport default useDocuments;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,YAAY,EAAEC,cAAc,QAAQ,kBAAkB;AAE/D,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMY,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMI,GAAG,GAAG,MAAMX,YAAY,CAAC,CAAC;MAChCK,YAAY,CAACM,GAAG,CAACC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZN,QAAQ,CAAC,EAAAK,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcF,IAAI,cAAAG,kBAAA,uBAAlBA,kBAAA,CAAoBE,OAAO,KAAI,QAAQ,CAAC;IACnD,CAAC,SAAS;MACRV,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMW,YAAY,GAAG,MAAOC,EAAE,IAAK;IACjC,IAAI;MACF,MAAMlB,cAAc,CAACkB,EAAE,CAAC;MACxBd,YAAY,CAAEe,IAAI,IAAKA,IAAI,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKA,EAAE,CAAC,CAAC;IACzD,CAAC,CAAC,OAAON,GAAG,EAAE;MAAA,IAAAU,cAAA,EAAAC,mBAAA;MACZf,QAAQ,CAAC,EAAAc,cAAA,GAAAV,GAAG,CAACG,QAAQ,cAAAO,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcX,IAAI,cAAAY,mBAAA,uBAAlBA,mBAAA,CAAoBP,OAAO,KAAI,QAAQ,CAAC;IACnD;EACF,CAAC;EAEDlB,SAAS,CAAC,MAAM;IACdW,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEN,SAAS;IAAEE,OAAO;IAAEE,KAAK;IAAEU,YAAY;IAAEO,OAAO,EAAEf;EAAU,CAAC;AACxE,CAAC;AAACP,EAAA,CA/BID,YAAY;AAiClB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}